# 22 Автоматизированных Тест-кейса

**1. Создание объявления (POST /api/1/item)**

**1.1. Позитивные тесты**

**1.1.1: Успешное создание объявления с корректными данными**

Описание: Проверка успешного создания объявления с корректными данными.

Шаги:
Отправить POST-запрос на /api/1/item с телом:
json
Copy
{
  "sellerID": 123456,
  "name": "Test Item",
  "price": 100,
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 200.

Проверить, что ответ содержит строку "Сохранили объявление".

Ожидаемый результат: Объявление успешно создано.

**1.1.2: Создание объявления с минимальными данными (только обязательные поля)**

Описание: Проверка создания объявления с минимальными данными.
Шаги:

Отправить POST-запрос на /api/1/item с телом:
json
Copy
{
  "sellerID": 123456,
  "name": "Test Item",
  "price": 100
}
Проверить, что статус ответа равен 200.

Проверить, что ответ содержит строку "Сохранили объявление".

Ожидаемый результат: Объявление успешно создано.

**1.2. Негативные тесты**

**1.2.1: Попытка создания объявления без обязательного поля sellerID**

Описание: Проверка обработки отсутствия обязательного поля sellerID.

Шаги:
Отправить POST-запрос на /api/1/item с телом:
json
Copy
{
  "name": "Test Item",
  "price": 100,
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**1.2.2: Попытка создания объявления с некорректным типом данных (строка вместо числа в поле price)**

Описание: Проверка обработки некорректного типа данных в поле price.

Шаги:

Отправить POST-запрос на /api/1/item с телом:
json
Copy
{
  "sellerID": 123456,
  "name": "Test Item",
  "price": "invalid_price",
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**1.2.3: Попытка создания объявления с пустым телом запроса**

Описание: Проверка обработки пустого тела запроса.

Шаги:

Отправить POST-запрос на /api/1/item с пустым телом {}.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**1.2.4: Попытка создания объявления с отрицательным значением price**

Описание: Проверка обработки отрицательного значения в поле price.

Шаги:

Отправить POST-запрос на /api/1/item с телом:

json
Copy
{
  "sellerID": 123456,
  "name": "Test Item",
  "price": -100,
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**1.2.5: Попытка создания объявления с очень длинным значением поля name**

Описание: Проверка обработки очень длинного значения в поле name.

Шаги:

Отправить POST-запрос на /api/1/item с телом:

json
Copy
{
  "sellerID": 123456,
  "name": "A" * 1000,
  "price": 100,
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**2. Получение объявления по его идентификатору (GET /api/1/item/:id )**

**2.1. Позитивные тесты**

**2.1.1: Успешное получение объявления по существующему id**

Описание: Проверка успешного получения объявления по существующему id.

Шаги:

Отправить GET-запрос на /api/1/item/0cd4183f-a699-4486-83f8-b513dfde477a.

Проверить, что статус ответа равен 200.

Проверить, что ответ содержит поле id.

Ожидаемый результат: Объявление успешно получено.

2.1.2: Получение объявления с проверкой всех полей

Описание: Проверка структуры ответа при получении объявления.

Шаги:

Отправить GET-запрос на /api/1/item/0cd4183f-a699-4486-83f8-b513dfde477a.

Проверить, что статус ответа равен 200.

Проверить, что ответ содержит все обязательные поля: id, sellerId, name, price, statistics, createdAt.

Ожидаемый результат: Все поля присутствуют и соответствуют ожидаемым типам данных.

**2.2. Негативные тесты**

**2.2.1: Попытка получения объявления по несуществующему id**

Описание: Проверка обработки несуществующего id.

Шаги:

Отправить GET-запрос на /api/1/item/non-existent-id.

Проверить, что статус ответа равен 404.

Ожидаемый результат: Сервер возвращает ошибку 404 Not Found.

**2.2.2: Попытка получения объявления с некорректным форматом id**

Описание: Проверка обработки некорректного формата id.

Шаги:

Отправить GET-запрос на /api/1/item/invalid_id_format.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**2.2.3: Попытка получения объявления с пустым id**

Описание: Проверка обработки пустого id.

Шаги:

Отправить GET-запрос на /api/1/item/.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**3. Получение всех объявлений по идентификатору продавца (GET /api/1/:sellerID /item)**

**3.1. Позитивные тесты**

**3.1.1: Успешное получение всех объявлений по существующему sellerID**

Описание: Проверка успешного получения всех объявлений по существующему sellerID.

Шаги:

Отправить GET-запрос на /api/1/1234345231/item.

Проверить, что статус ответа равен 200.

Проверить, что ответ содержит список объявлений.

Ожидаемый результат: Список объявлений успешно получен.

**3.1.2: Получение всех объявлений для продавца, у которого нет объявлений**

Описание: Проверка получения пустого списка объявлений для продавца без объявлений.

Шаги:

Отправить GET-запрос на /api/1/999999/item.

Проверить, что статус ответа равен 200.

Проверить, что список объявлений пуст.

Ожидаемый результат: Список объявлений пуст.

**3.2. Негативные тесты**

**3.2.1: Попытка получения объявлений по несуществующему sellerID**

Описание: Проверка обработки несуществующего sellerID.

Шаги:

Отправить GET-запрос на /api/1/999999/item.

Проверить, что статус ответа равен 404.

Ожидаемый результат: Сервер возвращает ошибку 404 Not Found.

**3.2.2: Попытка получения объявлений с некорректным форматом sellerID**

Описание: Проверка обработки некорректного формата sellerID.

Шаги:

Отправить GET-запрос на /api/1/invalid_seller_id/item.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**3.2.3: Попытка получения объявлений с отрицательным значением sellerID**

Описание: Проверка обработки отрицательного значения sellerID.

Шаги:

Отправить GET-запрос на /api/1/-123456/item.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**4. Получение статистики по объявлению (GET /api/1/statistic/:id )**

**4.1. Позитивные тесты**

**4.1.1: Успешное получение статистики по существующему id**

Описание: Проверка успешного получения статистики по существующему id.

Шаги:

Отправить GET-запрос на /api/1/statistic/0cd4183f-a699-4486-83f8-b513dfde477a.

Проверить, что статус ответа равен 200.

Проверить, что ответ содержит поля likes, viewCount, contacts.

Ожидаемый результат: Статистика успешно получена.

**4.1.2: Получение статистики с проверкой всех полей**

Описание: Проверка структуры ответа при получении статистики.

Шаги:

Отправить GET-запрос на /api/1/statistic/0cd4183f-a699-4486-83f8-b513dfde477a.

Проверить, что статус ответа равен 200.

Проверить, что ответ содержит все обязательные поля: likes, viewCount, contacts.

Ожидаемый результат: Все поля присутствуют и соответствуют ожидаемым типам данных.

**4.2. Негативные тесты**

**4.2.1: Попытка получения статистики по несуществующему id**

Описание: Проверка обработки несуществующего id.

Шаги:

Отправить GET-запрос на /api/1/statistic/non-existent-id.

Проверить, что статус ответа равен 404.

Ожидаемый результат: Сервер возвращает ошибку 404 Not Found.

**4.2.2: Попытка получения статистики с некорректным форматом id**

Описание: Проверка обработки некорректного формата id.

Шаги:

Отправить GET-запрос на /api/1/statistic/invalid_id_format.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**4.2.3: Попытка получения статистики с пустым id**

Описание: Проверка обработки пустого id.

Шаги:

Отправить GET-запрос на /api/1/statistic/.

Проверить, что статус ответа равен 400.

Ожидаемый результат: Сервер возвращает ошибку 400 Bad Request.

**5. Тесты на граничные значения**

**5.1.1: Создание объявления с минимальным значением price**
Описание: Проверка создания объявления с минимальным значением price (0).

Шаги:

Отправить POST-запрос на /api/1/item с телом:

json
Copy
{
  "sellerID": 123456,
  "name": "Test Item",
  "price": 0,
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 200.

Проверить, что ответ содержит строку "Сохранили объявление".

Ожидаемый результат: Объявление успешно создано.

**5.1.2: Создание объявления с максимальным значением price**
Описание
Проверка создания объявления с максимальным значением поля price (999999999). Этот тест проверяет, что сервер корректно обрабатывает граничное значение для поля price.

Шаги
Отправить POST-запрос на /api/1/item с телом:

json
Copy
{
  "sellerID": 123456,
  "name": "Test Item",
  "price": 999999999,
  "statistics": {
    "contacts": 3,
    "likes": 123,
    "viewCount": 12
  }
}
Проверить, что статус ответа равен 200.

Проверить, что ответ содержит строку "Сохранили объявление".

Ожидаемый результат
Статус ответа: 200 OK.

Ответ содержит сообщение об успешном создании объявления: "Сохранили объявление".

Фактический результат
Статус ответа: 200 OK.

Ответ содержит сообщение об успешном создании объявления: "Сохранили объявление".
